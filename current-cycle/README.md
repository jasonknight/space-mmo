# AI-Assisted Development Workflow

This directory contains guides for AI assistants to systematically explore codebases and plan software changes. The workflow is designed to be reusable across different projects by separating environment-specific details from the exploration and planning processes.

## Files Overview

### Core Workflow Files

1. **gen-env.md** - Environment Discovery Guide
   - Guides AI assistants to discover and document the development environment
   - Run this ONCE per project (or when environment changes significantly)
   - Generates `tasks/env.md` with all project-specific details

2. **tasks/env.md** - Development Environment Documentation
   - Generated by following `gen-env.md`
   - Contains project-specific information (VCS, languages, testing, database, etc.)
   - Referenced by `gen-explore.md` and `gen-plan.md` for environment details
   - Update when environment changes

3. **gen-explore.md** - Codebase Exploration Guide
   - Guides AI assistants in systematically exploring code components
   - Produces exploration documents in `./tasks/explore-{component-name}.md`
   - References `tasks/env.md` for environment-specific commands and conventions

4. **gen-plan.md** - Implementation Planning Guide
   - Guides AI assistants in creating detailed implementation plans
   - Produces plan documents in `./tasks/plan-{change-name}.md`
   - References `tasks/env.md` for testing, VCS, and project conventions
   - Uses exploration documents as context

## Workflow

### Initial Setup (Once per project)

```bash
# Step 1: Generate environment documentation
# Give gen-env.md to an AI assistant and ask them to discover the environment
```

**Prompt for AI:**
> "Please follow the gen-env.md guide to discover and document this project's development environment."

This creates `./tasks/env.md` with all project-specific details.

### Exploring Code (Before making changes)

```bash
# Step 2: Explore relevant components
# Give gen-explore.md to an AI assistant along with tasks/env.md
```

**Prompt for AI:**
> "Please follow the gen-explore.md guide to explore the [component name, e.g., 'database layer', 'authentication system']. The environment details are in tasks/env.md."

This creates `./tasks/explore-{component-name}.md` documenting the component's architecture and implementation.

### Planning Changes

```bash
# Step 3: Create implementation plan
# Give gen-plan.md to an AI assistant along with tasks/env.md and relevant exploration docs
```

**Prompt for AI:**
> "Please follow the gen-plan.md guide to create an implementation plan for [describe change]. The environment details are in tasks/env.md, and relevant explorations are in ./tasks/explore-*.md."

This creates `./tasks/plan-{change-name}.md` with detailed implementation steps.

### Implementation

```bash
# Step 4: Implement the plan
# Give the plan document to a developer (human or AI) to implement
```

The plan document contains detailed steps, acceptance criteria, and testing requirements for implementation.

## Directory Structure

```
.
├── gen-env.md              # Guide: Discover environment
├── gen-explore.md          # Guide: Explore codebase
├── gen-plan.md             # Guide: Plan changes
├── README.md               # This file
└── tasks/                  # Generated documentation
    ├── env.md              # Generated: Environment documentation
    ├── explore-*.md        # Component exploration documents
    └── plan-*.md           # Implementation plan documents
```

## Benefits of This Approach

### Reusability
- `gen-explore.md` and `gen-plan.md` work for any project
- No need to edit guides for different languages, VCS, or tools
- Environment-specific details isolated in `tasks/env.md`

### Consistency
- All explorations follow the same structure
- All plans follow the same format
- Cross-references between documents maintained

### Maintainability
- When environment changes, update only `tasks/env.md`
- Guides remain unchanged
- Clear separation of concerns

### Portability
- Copy these files to any project
- Run environment discovery once
- Start exploring and planning immediately

## When to Update tasks/env.md

Regenerate or update `tasks/env.md` when:
- Programming language versions change
- Testing framework changes
- Database system changes
- Version control practices change
- CI/CD configuration changes
- New development tools are adopted

## Tips for AI Assistants

1. **Always read tasks/env.md first** before exploring or planning
2. **Check if tasks/env.md exists** - if not, run gen-env.md first
3. **Reference tasks/env.md** for all environment-specific commands
4. **Update cross-references** between exploration and plan documents
5. **Check document freshness** using VCS commands from tasks/env.md

## Tips for Humans

1. **Review generated tasks/env.md** for accuracy after initial creation
2. **Keep tasks/env.md updated** when environment changes
3. **Reuse exploration docs** - they're expensive to create, so maintain them
4. **Update explorations** after significant code changes
5. **Link plans to explorations** - maintain the documentation graph

## Example Session

```bash
# First time in a new project
AI: "I notice tasks/env.md doesn't exist. Shall I follow gen-env.md to discover the environment?"
User: "Yes, please."
AI: [Follows gen-env.md, asks questions, generates tasks/env.md]

# Later, exploring a component
User: "Please explore the authentication system."
AI: [Reads tasks/env.md, follows gen-explore.md, creates ./tasks/explore-auth-system.md]

# Planning a change
User: "I want to add OAuth support. Create a plan."
AI: [Reads tasks/env.md and explore-auth-system.md, follows gen-plan.md, creates ./tasks/plan-add-oauth.md]

# Implementation
Developer: [Reads plan-add-oauth.md and implements the change]
```

## Advanced Usage

### Multiple Projects
Keep these guides in a templates directory and copy to each project:
```bash
cp -r workflow-templates/* ./new-project/
cd new-project
# Run environment discovery
```

### Updating After Major Changes
When code changes significantly:
```bash
# Check what changed since exploration
[use VCS commands from tasks/env.md]

# Re-explore if needed
# AI follows gen-explore.md again for affected components
```

### Team Collaboration
- Commit `tasks/env.md` to version control (project-specific)
- Commit `./tasks/explore-*.md` and `./tasks/plan-*.md` (useful for team)
- Don't commit `gen-explore.md`, `gen-plan.md`, `gen-env.md` to each project (they're templates)
- OR commit the guides if you want them versioned per-project

## License and Usage

These guides are designed for AI-assisted development. Feel free to modify them for your specific needs, team practices, or project requirements.
